`/newsyntax
#include <vcc.h>

_(ghost 
_(no_reads_check)
_(frameaxiom) int foo(int *p);)

_(ghost 
int foo(int *p) 
  _(reads p) { _(assume \false) })

void bar() {
  int i = 0;
  _(ghost int a = foo(&i);)
  _(ghost int b = foo(&i);)
  _(assert a == b)
}

`
Verification of foo succeeded.
Verification of bar succeeded.
`
`/newsyntax
#include <vcc.h>

_(ghost _(pure, no_reads_check, frameaxiom) int val(int *p, size_t len)
  _(reads \array_range(p,len))
  )

void nothing() {}

void test() {
    int *p;
    size_t len;
    _(assume \mutable_array(p,len) && val(p, len) == 0)
    nothing();
    _(assert val(p,len) == 0)
}
`
Verification of nothing succeeded.
Verification of test succeeded.
`
`/newsyntax
#include <vcc.h>

_(ghost _(pure, frameaxiom, no_reads_check) \integer cVal(int *digits, \integer carry)
  _(reads \array_range(digits,0))
  )

void test() {
   _(assert cVal((int *) 4,  0) == 
            cVal((int *) 4,  1))
}

`
Verification of test failed.
testcase(8,27) : error VC9500: Assertion 'cVal((int *) 4, 0) == cVal((int *) 4, 1)' did not verify.
`
`/newsyntax
#include <vcc.h>

_(ghost _(pure, no_reads_check, frameaxiom) int val(int *p, size_t len)
  _(reads \array_range(p,len))
  )

void nothing() {}

void something(int *p, size_t len)
  _(writes \array_range(p, len)) {}

void test() {
    int *p;
    size_t len;
    _(assume \mutable_array(p,len) && val(p, len) == 0)
    nothing();
    _(assert val(p,len) == 0)
}

void test2() {
    int *p;
    size_t len;
    _(assume val(p, len) == 0)
    nothing();
    _(assert val(p,len) == 0) // error
}

void test3(int *p, size_t len) 
  _(writes \array_range(p, len))
  _(requires \mutable_array(p, len))
  _(requires len > 100)
  _(requires val(p + 20, 20) == 7)
{
    nothing();
    _(assert val(p + 20, 20) == 7);
    something(p + 10, 10);
    _(assert val(p + 20, 20) == 7);
}

void test4(int *p, size_t len) 
  _(writes \array_range(p, len))
  _(requires \mutable_array(p, len))
  _(requires len > 100)
  _(requires val(p + 20, 20) == 7)
{
    nothing();
    _(assert val(p + 20, 20) == 7);
    something(p + 10, 11);
    _(assert val(p + 20, 20) == 7); // error
}

`
Verification of nothing succeeded.
Verification of something succeeded.
Verification of test succeeded.
Verification of test2 failed.
testcase(25,28) : error VC9500: Assertion 'val(p,len) == 0' did not verify.
Verification of test3 succeeded.
Verification of test4 failed.
testcase(49,28) : error VC9500: Assertion 'val(p + 20, 20) == 7' did not verify.
`
