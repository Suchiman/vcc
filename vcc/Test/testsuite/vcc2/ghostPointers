
void foo() {
  int i, ^p;
  p = &i;
}
`
testcase(4,7) : error VC0000: Cannot implicitly convert type 'int*' to 'int^'.
`

void foo() {
  int i, ^p;
  p = (int ^)&i;
}
`
testcase(4,7) : error VC0000: Cannot convert type 'int*' to 'int^'.
`
void foo(int ^p) {
  int *q = p;
}
`
testcase(2,12) : error VC0000: Cannot implicitly convert type 'int^' to 'int*'.
`
void foo(int ^p) {
  int *q = (int *)p;
}
`
testcase(2,12) : error VC0000: Cannot convert type 'int^' to 'int*'.
`
void foo(int ^p) {
  void *q = p;
}
`
testcase(2,13) : error VC0000: Cannot implicitly convert type 'int^' to 'void*'.
`
void foo(void ^p) {
  void *q = p;
}
`
testcase(2,13) : error VC0000: Cannot implicitly convert type 'void^' to 'void*'.
`
void foo(int *p) {
  void ^q = p;
}
`
testcase(2,13) : error VC0000: Cannot implicitly convert type 'int*' to 'void^'.
`
#include <vcc.h>

struct S {
  int a;
  spec(int b;)
};

void foo() {
  spec(int i;)
  spec(int ^p;)
  p = &i;
}

void bar(struct S *s) {
  spec(int ^p;)
  p = &s->b;
}

void baz(struct S ^s) {
  spec(int ^p;)
  p = &s->a;
}
`
Verification of foo succeeded.
Verification of bar succeeded.
Verification of baz succeeded.
`
#include <vcc.h>

struct S {
  int a;
  spec(int b;)
};

struct T {
  struct S s;
  spec(struct S r;)
};

void foo(struct T *p) {
  spec(int ^i1 = &(p->s.b);)
  spec(int ^i1 = &(p->r.a);)
}

void bar(struct T ^p) {
  spec(int ^i1 = &(p->s.a);)
}
`
Verification of foo succeeded.
Verification of bar succeeded.
`
#include <vcc.h>

struct S {
  int a;
  spec(int b;)
};

struct T {
  struct S s;
  spec(struct S r;)
};

void foo(struct T *p) {
  spec(int *i1 = &(p->s.b);)
  spec(int *i1 = &(p->r.a);)
}

void bar(struct T ^p) {
  spec(int *i1 = &(p->s.a);)
}
`
testcase(14,29) : error VC0000: Cannot implicitly convert type 'int^' to 'int*'.
testcase(15,29) : error VC0000: Cannot implicitly convert type 'int^' to 'int*'.
testcase(19,29) : error VC0000: Cannot implicitly convert type 'int^' to 'int*'.
`

#include <vcc.h>

struct S {
  int a;
  spec(int b;)
  spec(int ^p;)
  invariant(p != &b)
};

struct T {
  int a;
  spec(int b;)
  spec(int ^p;)
  invariant(p == &b)
};
`
Verification of S#adm succeeded.
Verification of T#adm succeeded.
`