#include "vcc.h"

int sumup(int *p, int sz)
  requires(is_thread_local_array(p, (size_t)sz))
{
  int i;
  int sum;

  assume(sz < 10000);

  sum = 0;
  i = 0;
  while (i <= sz)  // ERR
    invariant (i >= 0)
  {
    sum = unchecked(sum + p[i]);
    i = i + 1;
  }

  return sum;
}
`
Verification of sumup failed.
testcase(16,29) : error VC8512: Assertion 'p[i] is thread local' did not verify.
`
