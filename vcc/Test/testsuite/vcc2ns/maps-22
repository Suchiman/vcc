#include "vcc.h"

struct vcc(record) S {
    int a;
    int b;
};

void foo()
{
    spec(struct S t, map[int];)
    spec(t.b = 20;)
    spec(map = lambda(int x; true; t / { .a = x });)
    assert(map[4].a == 4);
    assert(map[4].b == 20);
}
`
Verification of foo succeeded.
`
