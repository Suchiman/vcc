#include <vcc2test.h>

typedef  struct  vcc(claimable) { int dummy; } Seal;

struct vcc(volatile_owns) vcc(claimable) Mut {
  volatile bool af, bf;
  spec( Seal afs; )
  on_unwrap( !closed(&afs))
};

void alice(struct Mut *m claimp(c))
  always(c, closed(m))
  requires(wrapped(&m->afs))
  writes(&m->afs)
{
spec(claim_t c2;)
  assert(valid_claim(c));
  assert(closed(m));
  spec( c2 = claim(&m->afs, closed(m)); )
}

`
Verification of Mut#adm succeeded.
Verification of alice succeeded.
`
