#include <vcc.h>

struct A {
  int x;
  int y;

  invariant(this->x > 0 && this->y > 0)
};

void foo(struct A *a)
  writes(a)
  requires(wrapped(a))
{
  unwrap(a);
  a->y = -1;
  wrap(a);
}
`
Verification of A#adm succeeded.
Verification of foo failed.
testcase(16,13) : error VC8014: invariant(__this->y > 0) of A fails on wrap.
testcase(7,32) : error VC9599: (related information) location of the invariant.
`
