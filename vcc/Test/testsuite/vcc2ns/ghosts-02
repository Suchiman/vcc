#include <vcc2test.h>

void foo(unsigned int x)
  requires(x > 0 && x < 1000)
{
  spec(
    spec(ptrset ^p = spec_malloc_array<ptrset>(x);)
    assert((char^)(p + 1) - (char^)p == 1);
    p[x + 1] = set_empty();
  )

}
`
Verification of foo failed.
testcase(9,5) : error VC8507: Assertion 'p[x + 1] is writable' did not verify.
`
