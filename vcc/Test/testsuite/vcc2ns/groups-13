#include "vcc.h"

#define UINT32 unsigned int


struct lock{
 volatile int locked;  
 spec(obj_t obj;)   
};

typedef struct t_st{
 
  struct lock state_lock;  
  def_group(g)
  in_group(g) UINT32 state;

  invariant(keeps(&state_lock))
  invariant(state_lock.obj == this::g)  

} *pst;
`
Verification of t_st#adm succeeded.
`
