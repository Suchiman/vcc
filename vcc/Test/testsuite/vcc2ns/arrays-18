#include "vcc.h"

typedef unsigned __int8 UINT8;
typedef unsigned __int64 UINT64;

int ispure Contains(UINT8 a[], UINT64 count, UINT8 elem)
  reads(array_range(a, count))
  ensures(result == exists(UINT64 j; 0 <= j && j < count && a[j] == elem));

void writeArray(UINT8 a[], UINT64 count)
  writes(array_range(a, count));

void foo()
{
  UINT8 A[256];
  UINT64 i;
  A[0] = 0;
  assert(Contains(A, 1, 0));
  writeArray(A+1, 255);
  assert(Contains(A, 1, 0));
}
`
Verification of foo succeeded.
Verification of Contains#reads succeeded.
`
