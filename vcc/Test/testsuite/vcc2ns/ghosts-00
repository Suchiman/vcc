#include "vcc.h"

struct A {
  int a;
  spec( int b; )
  invariant (this->a + this->b > 0)
};

void f2(struct A *a)
  requires(wrapped(a) && a->a < 1000 )
  writes(a)
{
  assert(sizeof(struct A) == sizeof(int));

  unwrap(a);
    spec( a->b = a->b - 1;)
    a->a = a->a + 1;
  wrap(a);
}
`
Verification of A#adm succeeded.
Verification of f2 succeeded.
`
